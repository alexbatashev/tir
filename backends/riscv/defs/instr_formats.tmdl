/// Default RISC-V instruction format with two source registers and one destination
instr_template RInstr<$funct7: bits<7>, $funct3: bits<3>, $mnemonic: str, $opcode: bits<7>> {
   rd: GPR,
   rs1: GPR,
   rs2: GPR,
}

instr_template IInstr<$funct3: bits<3>, $mnemonic: str, $opcode: bits<7>> {
   rd: GPR,
   rs1: GPR,
   imm: bits<12>,
}

encoding for RInstr {
    $funct7 @ self.rs2 @ self.rs1 @ $funct3 @ self.rd @ $opcode
}

asm for RInstr {
    "{$mnemonic} {self.rd}, {self.rs1}, {self.rs2}"
}

encoding for IInstr {
    self.imm @ self.rs1 @ $funct3 @ self.rd @ $opcode
}

asm for RInstr {
    "{$mnemonic} {self.rd}, {self.rs1}, {self.imm}"
}
